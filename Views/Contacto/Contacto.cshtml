<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacto</title>
</head>
<body>
    <div class="container">
        
            <div class="row row-cols-1 row-cols-md-3 g-4">
            <div class="col form-group">
                <h2>Contacto</h2>
                <form id="form" class="needs-validation" novalidate metodh="post">
                    <label for="name" class="mt-3 form-label">Nombre:</label>
                    <input type="text" id="name" name="name" class="form-control" requiered placeholder="Nombre">
                    <div class="valid-feedback">Campo Ok</div> 
                    <div class="invalid-feedback">Campo invalido</div> 

                    <label for="ape" class="mt-3 form-label">Apellidos:</label>
                    <input type="text" id="ape" name="ape" class="form-control" requiered placeholder="Apellidos">
                    <div class="valid-feedback">Campo Ok</div> 
                    <div class="invalid-feedback">Campo invalido</div> 

                    <label for="area" class="mt-3 form-label">Area de interés:</label>
                    <input type="text" id="area" name="area" class="form-control" requiered placeholder="Ingrese su area">
                    <div class="valid-feedback">Campo Ok</div> 
                    <div class="invalid-feedback">Campo invalido</div> 
                    
                    <label for="email" class="mt-3 form-label">Correo:</label>
                    <input type="email" id="email" name="email" class="form-control" requiered placeholder="E-mail">
                    <div class="valid-feedback">Campo Ok</div> 
                    <div class="invalid-feedback">Campo invalido</div>

                    <label for="tel" class="mt-3 form-label">Teléfono:</label>
                    <input type="tel" id="tel"  name="tel" class="form-control" requiered placeholder="Teléfono">
                    <div class="valid-feedback">Campo Ok</div> 
                    <div class="invalid-feedback">Campo invalido</div> 

                    <label for="message" class="mt-3 form-label">Mensaje</label>
                    <textarea class="form-control" name="message" id="message" requiered rows="3"></textarea>
                    <button type="submit" class="btn btn-success mb-2 mt-3">ENVIAR</button>
                </form>
                <a href="mailto:victor_gutierrez4@usmp.pe" style= "opacity:0" id="trucazo">trucazo</a>
            </div>

            <div class="col">
                <div class="card h-100">
                    <img src="https://st.depositphotos.com/1011643/3411/i/950/depositphotos_34113515-stock-photo-group-of-architects-working-on.jpg" class="card-img-top" alt="...">
                        
                </div>
            </div> 
            
            <script type="text/javascript">
            // Example starter JavaScript for disabling form submissions if there are invalid fields
                (function () {
                'use strict'

                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.querySelectorAll('.needs-validation')

                // Loop over them and prevent submission
                Array.prototype.slice.call(forms)
                    .forEach(function (form) {
                    form.addEventListener('submit', function (event) {
                        if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                        }

                        form.classList.add('was-validated')
                    }, false)
                    })
                })()

               const $formulario = document.querySelector('#form');
               const $buttonMailto = document.querySelector('#trucazo');

               $formulario.addEventListener('submit' ,handleSubmit);
               function handleSubmit(event){
                   event.preventDefault();

                   const form = new FormData(this);
                   $buttonMailto.setAttribute('href', `mailto:victor_gutierrez4@usmp.pe?subject=Nombre: ${form.get('name')} Correo: ${form.get('email')} Apellido: ${form.get('ape')} Area: ${form.get('area')} telefono: ${form.get('tel')}${form.get('area')}&body=${form.get('message')}`);
                   $buttonMailto.click();
               }
         </script>       
        </div>  
    </div>
</body>
</html>